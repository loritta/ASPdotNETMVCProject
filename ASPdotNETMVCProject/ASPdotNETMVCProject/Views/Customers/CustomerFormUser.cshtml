@model ASPdotNETMVCProject.Models.Customer

@{
	ViewBag.Title = "New";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>New</h2>
@if (this.User.IsInRole("CanManageCustomerInfo"))
{
	<div class="jumbotron">
		<h1>You are a customer</h1>
		<p class="lead">Congratulation you are already a customer. You cannot be more customer then you are already!</p>
	</div>
}
else
{

	using (Html.BeginForm("Save", "Customers"))
	{
		@Html.AntiForgeryToken()

		<div class="form-horizontal">
			<h4>Customer</h4>
			<hr />
			@Html.ValidationSummary(true, "Please fix the errors")
			<div class="form-group">
				@Html.LabelFor(model => model.FirstName, htmlAttributes: new { @class = "control-label col-md-2" })

				@Html.TextBoxFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })

			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.LastName, htmlAttributes: new { @class = "control-label col-md-2" })

				@Html.TextBoxFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })

			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "control-label col-md-2" })

				@Html.TextBoxFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })

			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.PhoneNumber, htmlAttributes: new { @class = "control-label col-md-2" })

				@Html.TextBoxFor(model => model.PhoneNumber, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })

			</div>

			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					
					<input type="submit" value="Save" class="btn btn-default" />
				</div>
			</div>
		</div>
	}
}

<div>
	@Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")
}
